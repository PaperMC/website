@import "tailwindcss";
@import "@fontsource/poppins/400.css";
@import "@fontsource/poppins/500.css";
@import "@fontsource/poppins/600.css";
@import "@fontsource/poppins/700.css";

@plugin "@tailwindcss/typography";

@custom-variant dark (@media (prefers-color-scheme: dark));

/* prettier-ignore */
@source inline("bg-channel-alpha-primary bg-channel-alpha-secondary bg-channel-beta-primary bg-channel-beta-secondary bg-channel-stable-primary bg-channel-stable-secondary bg-channel-recommended-primary bg-channel-recommended-secondary bg-channel-eol-primary bg-channel-eol-secondary");
/* prettier-ignore */
@source inline("text-channel-alpha-primary text-channel-alpha-secondary text-channel-beta-primary text-channel-beta-secondary text-channel-stable-primary text-channel-stable-secondary text-channel-recommended-primary text-channel-recommended-secondary text-channel-eol-primary text-channel-eol-secondary");

@theme {
  --font-sans: Poppins, Roboto, Open Sans, ui-sans-serif, system-ui, sans-serif;

  --color-primary-0: #ffffff;
  --color-primary-100: #f5f8fe;
  --color-primary-200: #ebf1fd;
  --color-primary-300: #e0eafc;
  --color-primary-400: #d6e3fb;
  --color-primary-500: #ccdcfb;
  --color-primary-600: #c2d4fa;
  --color-primary-700: #b8cdf9;
  --color-primary-800: #adc6f8;
  --color-primary-900: #a3bff7;
  --color-primary-1000: #99b8f6;

  --color-primary-dark-0: #e6edfd;
  --color-primary-dark-50: #ccdcfb;
  --color-primary-dark-100: #99b8f6;
  --color-primary-dark-200: #6695f2;
  --color-primary-dark-300: #3371ed;
  --color-primary-dark-400: #004ee9;
  --color-primary-dark-500: #003eba;
  --color-primary-dark-600: #002f8c;
  --color-primary-dark-700: #001f5d;
  --color-primary-dark-800: #00102f;
  --color-primary-dark-900: #000817;

  --color-background-dark-90: #111111;
  --color-background-dark-80: #181a1b;
  --color-background-light-10: #f8faff;
  --color-background-light-0: #ffffff;

  --color-danger: var(--color-red-400);

  --list-style-type-alpha: lower-alpha;

  --aspect-auto: auto;
  --aspect-square: 1 / 1;
  --aspect-video: 16 / 9;

  --grid-template-columns-16: repeat(16, minmax(0, 1fr));
  --grid-template-columns-18: repeat(18, minmax(0, 1fr));
  --grid-template-columns-20: repeat(20, minmax(0, 1fr));

  --scale-120: 1.2;
}

@theme {
  /* These colours come from Fill - changes must be synchronized. */
  --color-channel-alpha-primary: #ea5b6f;
  --color-channel-alpha-secondary: var(--color-white);
  --color-channel-beta-primary: #ffc859;
  --color-channel-beta-secondary: var(--color-black);
  --color-channel-stable-primary: var(--color-blue-500);
  --color-channel-stable-secondary: var(--color-white);
  --color-channel-recommended-primary: #4ecb8b;
  --color-channel-recommended-secondary: var(--color-white);
  --color-channel-eol-primary: #9ca3af;
  --color-channel-eol-secondary: #111827;
}

@variant dark {
  :root {
    --color-danger: var(--color-red-500);

    /* These colours come from Fill - changes must be synchronized. */
    --color-channel-alpha-primary: #e42e47;
    --color-channel-alpha-secondary: var(--color-white);
    --color-channel-beta-primary: #f9da22;
    --color-channel-beta-secondary: var(--color-black);
    --color-channel-stable-primary: var(--color-blue-500);
    --color-channel-stable-secondary: var(--color-white);
    --color-channel-recommended-primary: #4ecb8b;
    --color-channel-recommended-secondary: var(--color-white);
    --color-channel-eol-primary: #4b5563;
    --color-channel-eol-secondary: #e5e7eb;
  }
}

@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentcolor);
    @variant dark {
      border-color: var(--color-gray-800, currentcolor);
      @apply shadow-gray-600/50;
    }
  }
}

@layer utilities {
  .mask-fade-bottom {
    --fade-size: 4rem;
    mask-image: linear-gradient(to bottom, black calc(100% - var(--fade-size)), transparent);
    -webkit-mask-image: linear-gradient(to bottom, black calc(100% - var(--fade-size)), transparent);
    mask-mode: match-source;
    -webkit-mask-mode: match-source;
  }
}

html {
  @apply bg-background-light-10 dark:bg-background-dark-90 scroll-smooth dark:text-white;
  -webkit-tap-highlight-color: transparent;
}

:root {
  --fg-muted: oklch(35% 0 0 / 0.7);
}
@variant dark {
  :root {
    --fg-muted: color-mix(in oklab, white 70%, transparent);
  }
}
.text-muted {
  color: var(--fg-muted);
}

[role="button"],
button {
  cursor: pointer;
}

:not(pre) > code {
  @apply rounded font-mono;
  padding: 1px 2px 1px 2px;
  background: #f7f7f7;
  color: #a85cff;
  font-weight: 500;
  border: 1px solid rgba(0, 0, 0, 0.08);
}
@variant dark {
  :not(pre) > code {
    background: color-mix(in oklab, var(--color-background-dark-90) 85%, white 15%);
    color: #bb80ff;
    border: 1px solid rgba(255, 255, 255, 0.08);
  }
}

.prose code::before,
.prose code::after {
  content: none !important;
}

.prose :where(pre):not(:where([class~="not-prose"] *)) {
  @apply bg-transparent;
}

.prose {
  --tw-prose-body: theme(colors.gray.800);
  --tw-prose-headings: theme(colors.gray.900);

  a {
    color: #1f6ce0;
  }
  @variant dark {
    a {
      color: #5d99f5;
    }
  }
}

@variant dark {
  .prose {
    --tw-prose-body: theme(colors.gray.200);
    --tw-prose-headings: theme(colors.white);
  }
}

.prose :where(pre):not(:where([class~="not-prose"] *)) {
  @apply bg-transparent;
}

.btn {
  @layer components {
    @apply border-1 transition-colors not-active:shadow-sm;

    --btn-bg: var(--btn-color);
    --btn-border: var(--btn-color);
    --btn-fg-hover: var(--btn-fg);
    --tw-shadow-color: color-mix(in oklab, var(--btn-color) 50%, transparent);

    background-color: var(--btn-bg);
    border-color: var(--btn-border);
    color: var(--btn-fg);

    &:hover {
      color: var(--btn-fg-hover);
      --btn-bg: color-mix(in oklab, var(--btn-color), #000 7%);
    }
    &:active {
      color: var(--btn-fg-hover);
      translate: 0 0.5px;
      --btn-bg: color-mix(in oklab, var(--btn-color), #000 5%);
      --btn-border: color-mix(in oklab, var(--btn-color), #000 7%);
    }
  }
}

@utility btn-outline {
  &:not(:hover) {
    &:not(:active) {
      --btn-bg: transparent;
    }
  }
}

@utility btn-primary {
  &:not(.btn-outline) {
    --btn-fg: var(--color-white);
  }
  &.btn-outline {
    --btn-fg-hover: var(--color-white);
  }
  --btn-color: var(--color-blue-500);
}

@utility btn-danger {
  &:not(.btn-outline) {
    --btn-fg: var(--color-white);
  }
  &.btn-outline {
    --btn-fg-hover: var(--color-white);
  }
  --btn-color: var(--color-danger);
}

.btn-stable {
  &:not(.btn-outline) {
    --btn-fg: var(--color-channel-stable-secondary);
  }
  &.btn-outline {
    --btn-fg-hover: var(--color-channel-stable-secondary);
  }
  --btn-color: var(--color-channel-stable-primary);
}

.btn-alpha {
  &:not(.btn-outline) {
    --btn-fg: var(--color-channel-alpha-secondary);
  }
  &.btn-outline {
    --btn-fg-hover: var(--color-channel-alpha-secondary);
  }
  --btn-color: var(--color-channel-alpha-primary);
}

.btn-beta {
  &:not(.btn-outline) {
    --btn-fg: var(--color-channel-beta-secondary);
  }
  &.btn-outline {
    --btn-fg-hover: var(--color-channel-beta-secondary);
  }
  --btn-color: var(--color-channel-beta-primary);
}

.btn-recommended {
  &:not(.btn-outline) {
    --btn-fg: var(--color-channel-recommended-secondary);
  }
  &.btn-outline {
    --btn-fg-hover: var(--color-channel-recommended-secondary);
  }
  --btn-color: var(--color-channel-recommended-primary);
}

.btn-eol {
  &:not(.btn-outline) {
    --btn-fg: var(--color-channel-eol-secondary);
  }
  &.btn-outline {
    --btn-fg-hover: var(--color-channel-eol-secondary);
  }
  --btn-color: var(--color-channel-eol-primary);
}

@utility btn-gray {
  --btn-fg: var(--color-black);
  --btn-color: var(--color-gray-300);
  @variant dark {
    --btn-fg: var(--color-white);
    --btn-color: var(--color-gray-700);
  }
}
