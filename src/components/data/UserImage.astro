---
import RemoteResponsiveImageWrapper from "@/components/data/RemoteResponsiveImageWrapper.astro";

interface Props {
  avatarUrl: string;
  name: string;
  link?: string;
}

const { avatarUrl, name, link } = Astro.props;
const Tag = link ? "a" : "div";
---

<Tag
  role={link ? "button" : undefined}
  class="user-image relative flex aspect-square transform items-center justify-center overflow-auto rounded-full bg-gray-600 font-bold text-white uppercase transition-transform hover:scale-120 hover:shadow-lg"
  href={link}
  rel={link && "noreferrer"}
  target={link && "_blank"}
>
  {name[0]}
  <RemoteResponsiveImageWrapper
    alt={`${name}'s avatar`}
    src={avatarUrl}
    width={80}
    height={80}
    class="absolute h-full w-full bg-white object-cover"
  />
</Tag>

<style>
  /* we have our own fallback */
  .user-image .invalid {
    display: none;
  }
</style>
